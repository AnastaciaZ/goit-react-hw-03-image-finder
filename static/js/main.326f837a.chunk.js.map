{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/Modal/Modal.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/ImageGallery/ImageGallery.js","components/Modal/Modal.js","App.js","index.js","components/Searchbar/Searchbar.module.css","components/ImageGallery/ImageGallery.module.css"],"names":["module","exports","Searchbar","state","imageName","handleNameChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","alert","className","s","this","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","name","onChange","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","hits","images","onClose","map","hit","onClick","largeImageURL","src","webformatURL","alt","tags","ImageGalleryItemImage","id","Button","loadMore","loader","ImageGallery","error","status","page","showModal","prevProps","prevState","prevName","nextName","fetch","then","response","ok","json","Promise","reject","Error","catch","color","height","width","timeout","message","Modal","handleKeyDown","e","code","handleBackdropClick","target","window","addEventListener","removeEventListener","Overlay","App","handleFormSubmit","toggleModal","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.326f837a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__q2RJG\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2VjJZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2ITt-\",\"loader\":\"Button_loader__SWr5q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3kDvM\",\"Modal\":\"Modal_Modal__1x0ga\"};","import { Component } from 'react';\r\nimport s from '../Searchbar/Searchbar.module.css';\r\n\r\nexport default class Searchbar extends Component{\r\n  state = {\r\n    imageName: '',\r\n  };\r\n\r\n  handleNameChange = event => {\r\n    this.setState({ imageName: event.currentTarget.value.toLowerCase() });\r\n  };\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n\r\n    if (this.state.imageName.trim() === '') { \r\n      alert('Введите слово для поиска');\r\n      return;\r\n    }\r\n\r\n    this.props.onSubmit(this.state.imageName);\r\n    this.setState({ imageName: '' });\r\n  };\r\n\r\n  render() { \r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form onSubmit={ this.handleSubmit} className={s.SearchForm}>\r\n          <button type=\"submit\" className={s.SearchFormButton}>\r\n            <span className={s.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={s.SearchFormInput}\r\n            type=\"text\"\r\n            name=\"imageName\"\r\n            value={this.state.imageName}\r\n            onChange={ this.handleNameChange}\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport s from '../ImageGalleryItem/ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ images: { hits}, onClose})=> {\r\n  return (\r\n  <>\r\n    {hits.map(hit => (\r\n      <li key={hit.id} className={s.ImageGalleryItem} onClick={()=>onClose(hits.largeImageURL) }>\r\n          <img src={hit.webformatURL} alt={hit.tags} className={s.ImageGalleryItemImage} />\r\n        </li>\r\n      ))}\r\n</>\r\n  );\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n\r\n\r\n","import React from 'react';\r\n//import { Component } from 'react';\r\nimport s from '../Button/Button.module.css';\r\n\r\n\r\nconst Button = ({ loadMore }) => {\r\n  return (\r\n    <div className={ s.loader}>\r\n      <button type=\"button\" onClick={() =>loadMore()} className={s.Button}>Load more</button>\r\n    </div >\r\n      );\r\n};\r\n  \r\n\r\nexport default Button;\r\n\r\n/*export default class Button extends Component { \r\n\r\n  /*loadMore = () => {\r\n    //this.page += 1;\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={ s.loader}>\r\n      <button type=\"button\" onClick={()=>this.props.loadMore()} className={s.Button}>Load more</button>\r\n    </div>\r\n    )\r\n  }\r\n}*/\r\n","import { Component } from 'react';\r\nimport Loader from \"react-loader-spinner\";\r\n//import Loader from '../Loader/Loader';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport s from '../ImageGallery/ImageGallery.module.css';\r\nimport Button from '../Button/Button';\r\n//import Modal from '../Modal/Modal';\r\n\r\nexport default class ImageGallery extends Component {\r\n  state = {\r\n    images: null,\r\n    error: null,\r\n    status: 'idle',\r\n    page: 1,\r\n    showModal: false,\r\n    \r\n  };\r\n\r\n   componentDidUpdate(prevProps, prevState) { \r\n    const prevName = prevProps.imageName;\r\n    const nextName = this.props.imageName;\r\n\r\n    if (prevName !== nextName) { \r\n      this.setState({ status: 'pending' });\r\n      \r\n      fetch(`https://pixabay.com/api/?q=${nextName}&page=${this.page}&key=19205756-78e39cd266210d4983cef747c&image_type=photo&orientation=horizontal&per_page=12`)\r\n        .then(response => { \r\n          if (response.ok) { \r\n            return response.json();\r\n          }\r\n          return Promise.reject(\r\n            new Error(`Нет фото с именем ${nextName}`),\r\n          );\r\n        })\r\n        .then(images => this.setState({ images, status: 'resolved' }))\r\n        .catch(error => this.setState({ error, status: 'rejected' }));\r\n    }\r\n\r\n  };\r\n  \r\n  loadMore() {\r\n    this.page += 1;\r\n  /*window.scrollTo({\r\n  top: document.documentElement.scrollHeight,\r\n  behavior: 'smooth',\r\n});*/\r\n    \r\n  /*this.setState({page: this.page + 1});\r\n    console.log(this.loadMore);*/\r\n  };\r\n  /*toggleModal = () => {\r\n    this.setState(({ showModal }) => ({\r\n      showModal: !showModal,\r\n    }));\r\n  };*/\r\n\r\n  \r\n  render() {\r\n    const { images, error, status } = this.state;\r\n\r\n    if (status === 'idle') { \r\n      return <div className={s.loader}>Введите имя картинки</div>;\r\n    }\r\n\r\n    if (status === 'pending') { \r\n      return <div className={s.loader}>\r\n        <Loader type=\"ThreeDots\"\r\n                color=\"#3f51b5\"\r\n                height={50}\r\n                width={50}\r\n          timeout={3000} />\r\n      </div>;\r\n\r\n    }\r\n\r\n    if (status === 'rejected') { \r\n      return <h1>{ error.message}</h1>;\r\n    }\r\n\r\n    if (status === 'resolved') { \r\n      return (\r\n        <div>\r\n        <ul className={ s.ImageGallery}>\r\n            <ImageGalleryItem images={images}/>\r\n             {/*showModal={this.toggleModal()}*/}\r\n              \r\n          </ul>\r\n          <Button loadMore={this.loadMore} />\r\n          {/*<Modal onClose={this.toggleModal}\r\n            images={ images}/>*/}\r\n          </div>\r\n      );\r\n    }    \r\n  }\r\n}\r\n","import { Component } from 'react';\r\n//import React from 'react';\r\n//const basicLightbox = require('basiclightbox');\r\n//import * as basicLightbox from 'basiclightbox';\r\nimport s from '../Modal/Modal.module.css';\r\n\r\n\r\nexport default class Modal extends Component { \r\n\r\n  /*state = {\r\n    images: null,\r\n  }*/\r\n  componentDidMount() { \r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n\r\n  render() { \r\n    \r\n    return (\r\n      <div className={s.Overlay} onClick={ this.handleBackdropClick}>\r\n      <div className={s.Modal}>\r\n          {/*{this.props.children}*/}\r\n          {/*<img src={hit.largeImageURL} alt={ hit.tags}/>*/}\r\n      </div>\r\n        </div>\r\n        );\r\n  };\r\n\r\n}\r\n\r\n/*const Modal = ({ images: { hits } }) => {\r\n  \r\n  const instance = basicLightbox.create(`\r\n<img src=\"assets/images/image.png\" width=\"800\" height=\"600\">\r\n`)\r\n\r\ninstance.show()*/\r\n\r\n\r\n\r\n/*export default class Modal extends Component { \r\n  state = {\r\n    images: null,\r\n    isOpen: false,\r\n  };\r\n\r\n  handleSubmit(e) { \r\n    e.preventDefault();\r\n  };\r\n  showModal = () => {\r\n    this.setState({ isOpen: true });\r\n  };\r\n\r\n  closeModal = () => {\r\n    this.setState({ isOpen: false });\r\n  };\r\n\r\n  render() { \r\n    return (\r\n      <Modal isOpen={this.state.isOpen}>\r\n        <div className={s.Overlay}>\r\n      <div className={s.Modal}>\r\n        <img src={hits.largeImageURL} alt={ hits.tags} />\r\n      </div>\r\n    </div>\r\n      </Modal>\r\n    )\r\n  }*/\r\n  \r\n","import { Component } from 'react';\n\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\n//import ImageGalleryItem from './components/ImageGalleryItem/ImageGalleryItem';\n//import Loader from './components/Loader/Loader';\n//import Button from './components/Button/Button';\nimport Modal from './components/Modal/Modal';\n//import Loader from \"react-loader-spinner\";\n//import s from './App.module.css';\n\n\nimport './App.css';\n\nexport default class App extends Component {\n  state = {\n    imageName: '',\n    showModal: false,  \n    images: null,\n  };\n\n  handleFormSubmit = imageName => {\n    this.setState({ imageName });\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n    \n  render() { \n    const { showModal, imageName } = this.state;\n\n return (\n   <div>\n     <Searchbar onSubmit={this.handleFormSubmit} />\n     <ImageGallery imageName={imageName} />\n     {showModal && (\n       <Modal onClose={this.toggleModal}>\n        {/*<img src={hits.largeImageURL} alt={ hits.tags}/>*/}\n     </Modal>\n     )}\n     \n     {/*<Button onLoadMore={ this.onLoadMore}/>*/}\n    </div>\n  );\n}\n};\n ","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'modern-normalize/modern-normalize.css';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render( <App />,document.querySelector('#root')\n);\n\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2fYKy\",\"SearchForm\":\"Searchbar_SearchForm__28iB2\",\"SearchFormButton\":\"Searchbar_SearchFormButton__3K7Of\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2Kwe9\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3ZpEo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3Ld7f\",\"loader\":\"ImageGallery_loader__2IPDu\"};"],"sourceRoot":""}