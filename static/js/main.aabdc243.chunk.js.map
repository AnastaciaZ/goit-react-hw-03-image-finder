{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/Modal/Modal.module.css","components/Loader/Loading.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.js","services/imagesApi.js","components/ImageGallery/ImageGallery.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Loader/Loading.js","components/Button/Button.js","components/Modal/Modal.js","App.js","index.js"],"names":["module","exports","Searchbar","state","inputValue","handleChange","event","setState","target","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","warn","className","s","this","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","name","onChange","autoComplete","autoFocus","placeholder","Component","api","fetchImgQuery","searchQuery","page","fetch","then","response","ok","json","Promise","reject","Error","hits","ImageGallery","children","openModal","container","imageGallery","ImageGalleryItem","images","map","id","webformatURL","tags","largeImageURL","onClick","src","alt","ImageGalleryItemImage","Loading","loader","color","height","width","timeout","Button","onLoadMore","Modal","closeModal","Overlay","App","loading","error","fetchImages","imagesApi","length","prevState","scrollTo","catch","message","finally","setTimeout","window","top","document","documentElement","scrollHeight","behavior","handleFormSubmit","query","prevProps","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","ReactDOM","render","querySelector"],"mappings":"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","file":"static/js/main.aabdc243.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__Mzgas\",\"loader\":\"ImageGallery_loader__2IPDu\",\"container\":\"ImageGallery_container__1oFSs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__q2RJG\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2VjJZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2ITt-\",\"loader\":\"Button_loader__SWr5q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3kDvM\",\"Modal\":\"Modal_Modal__1x0ga\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loading_loader__f-C07\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2fYKy\",\"SearchForm\":\"Searchbar_SearchForm__28iB2\",\"SearchFormButton\":\"Searchbar_SearchFormButton__3K7Of\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2Kwe9\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3ZpEo\"};","import { Component } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport s from '../Searchbar/Searchbar.module.css';\r\n\r\nexport default class Searchbar extends Component { \r\n  state = {\r\n    inputValue: '',\r\n  };\r\n\r\n    handleChange = event => {\r\n        this.setState({ inputValue: event.target.value.toLowerCase() });\r\n    };\r\n\r\n    handleSubmit = event => {\r\n      event.preventDefault();\r\n      \r\n       if (this.state.inputValue.trim() === '') { \r\n      toast.warn('Введите слово для поиска');\r\n      return;\r\n    }\r\n\r\n        this.props.onSubmit(this.state.inputValue);\r\n        this.setState({ inputValue: '' });\r\n    };\r\n\r\n    render() { \r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form onSubmit={ this.handleSubmit} className={s.SearchForm}>\r\n          <button type=\"submit\" className={s.SearchFormButton}>\r\n            <span className={s.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={s.SearchFormInput}\r\n            type=\"text\"\r\n            name=\"imageName\"\r\n            value={this.state.inputValue}\r\n            onChange={ this.handleChange}\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}","\r\nfunction fetchImgQuery (searchQuery, page) {\r\n    return fetch(`https://pixabay.com/api/?q=${searchQuery}&page=${page+1}&key=19205756-78e39cd266210d4983cef747c&image_type=photo&orientation=horizontal&per_page=12`)\r\n        .then(response => { \r\n            if (response.ok) { \r\n                return response.json();\r\n            }\r\n            return Promise.reject(\r\n                new Error('По данному запросу нет изображений')\r\n            )\r\n        })\r\n        .then(({ hits }) => { return hits; });\r\n};\r\n\r\nconst api = {\r\n    fetchImgQuery,\r\n};\r\n\r\nexport default api;","import React from 'react';\r\nimport s from '../ImageGallery/ImageGallery.module.css';\r\n\r\nexport default function ImageGallery({children, openModal }) { \r\n    return (\r\n        <div className={s.container}>\r\n            <ul className={ s.imageGallery}>\r\n                {children}\r\n            </ul>\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport s from '../ImageGalleryItem/ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ images, openModal})=> {\r\n  return (\r\n  <>\r\n    {images.map(({id, webformatURL, tags, largeImageURL}) => (\r\n      <li key={id} className={s.ImageGalleryItem} onClick={ ()=>openModal(largeImageURL, tags)}>\r\n                <img src={webformatURL} alt={tags} className={s.ImageGalleryItemImage} />\r\n            </li>\r\n        ))}\r\n</>\r\n  );\r\n};\r\n\r\nexport default ImageGalleryItem;","import React from 'react';\r\nimport Loader from \"react-loader-spinner\";\r\nimport s from '../Loader/Loading.module.css';\r\n\r\nconst Loading = () => {\r\n    return (\r\n        <div className={s.loader}>\r\n            <Loader\r\n                type=\"ThreeDots\"\r\n                color=\"#3f51b5\"\r\n                height={50}\r\n                width={50}\r\n                timeout={2000} />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Loading;","import React from 'react';\r\nimport s from '../Button/Button.module.css';\r\n\r\nconst Button = ({onLoadMore}) => {\r\n  return (\r\n    <div className={ s.loader}>\r\n      <button type=\"button\" onClick={() => onLoadMore()} className={s.Button}>Load more</button>\r\n    </div >\r\n      );\r\n};\r\n  \r\n\r\nexport default Button;\r\n","import React from 'react';\r\n\r\nimport s from '../Modal/Modal.module.css';\r\n\r\nconst Modal = ({closeModal, largeImageURL }) => {\r\n  return (\r\n    <div className={s.Overlay} onClick={closeModal}>\r\n      <div className={s.Modal}>\r\n        <img src={largeImageURL} alt=\"\" />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Modal;","import { Component } from 'react';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport Searchbar from './components/Searchbar/Searchbar';\nimport imagesApi from './services/imagesApi';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport ImageGalleryItem from './components/ImageGalleryItem/ImageGalleryItem';\nimport Loading from './components/Loader/Loading';\nimport Button from './components/Button/Button';\nimport Modal from './components/Modal/Modal';\n\nimport './App.css';\n\nexport default class App extends Component { \n  state = {\n    images: [],\n    loading: false,\n    error: null,\n    searchQuery: '',\n    page: 0,\n    largeImageURL: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) { \n    const prevQuery = prevState.searchQuery;\n    const nextQuery = this.state.searchQuery;\n\n    if (prevQuery !== nextQuery) {  \n      \n      this.setState({ loading: true });\n      this.fetchImages();\n      \n    }\n  }\n  \n  fetchImages = () => {\n    const { searchQuery, page } = this.state;\n    \n    imagesApi\n      .fetchImgQuery(searchQuery, page)\n      .then(images => {\n        if (images.length === 0) {\n          toast.warn('К сожалению по вашему запросу ничего не найдено');\n          return;\n        }\n        this.setState(prevState => ({\n          images: [...prevState.images, ...images],\n          page: prevState.page + 1,\n        }), this.scrollTo,\n        )\n      })\n      .catch(error => this.setState( toast.error(`Oooops!${error.message}`)))\n      .finally(() => this.setState({ loading: false }));\n  };\n\n  scrollTo = () => {\n    setTimeout(() => {\n      window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    })\n    }, 1000);\n  };\n\n  handleFormSubmit = query => {\n    this.setState({\n      searchQuery: query,\n      page: 0,\n      images: [],\n    });\n  };\n\n openModal = (largeImageURL) => {\n   this.setState({ largeImageURL})\n };\n  \ncloseModal = () => { \n  this.setState({ largeImageURL: null})\n}\n  \n  render() { \n    const { images, loading, largeImageURL } = this.state;\n\n    return (\n      <div>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        <ToastContainer\n          position=\"top-right\"\n          autoClose={3000}\n          hideProgressBar={false}\n          newestOnTop={false}\n          closeOnClick\n          rtl={false}\n          pauseOnFocusLoss\n          draggable\n          pauseOnHover\n        />\n        \n        {images.length > 0 && <ImageGallery\n          images={images}\n          openModal={this.openModal}>\n          \n          <ImageGalleryItem\n            images={images}\n            openModal={this.openModal} />\n          \n        </ImageGallery>}\n\n        {loading && <Loading/>}\n\n        {images.length > 0 && !loading && <Button onLoadMore={this.fetchImages} />}\n\n        { largeImageURL && <Modal\n          largeImageURL={largeImageURL}\n          closeModal={ this.closeModal}/>}\n      </div>\n    );\n  }\n}\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'modern-normalize/modern-normalize.css';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render( <App />,document.querySelector('#root')\n);\n\n\n"],"sourceRoot":""}