{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/Modal/Modal.module.css","App.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.js","services/imagesApi.js","components/ImageGallery/ImageGallery.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/Modal/Modal.js","App.js","index.js"],"names":["module","exports","Searchbar","state","inputValue","handleChange","event","setState","target","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","warn","className","s","this","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","name","onChange","autoComplete","autoFocus","placeholder","Component","api","fetchImgQuery","searchQuery","page","fetch","then","response","ok","json","Promise","reject","Error","hits","ImageGallery","children","openModal","container","imageGallery","ImageGalleryItem","images","map","id","webformatURL","tags","largeImageURL","onClick","src","alt","ImageGalleryItemImage","Button","onLoadMore","loader","Modal","closeModal","Overlay","App","loading","error","fetchImages","imagesApi","prevState","scrollTo","catch","finally","setTimeout","window","top","document","documentElement","scrollHeight","behavior","handleFormSubmit","query","prevProps","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","message","color","height","width","timeout","length","ReactDOM","render","querySelector"],"mappings":"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","file":"static/js/main.d66e3971.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__Mzgas\",\"loader\":\"ImageGallery_loader__2IPDu\",\"container\":\"ImageGallery_container__1oFSs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__q2RJG\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2VjJZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2ITt-\",\"loader\":\"Button_loader__SWr5q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3kDvM\",\"Modal\":\"Modal_Modal__1x0ga\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3tW6g\",\"loader\":\"App_loader__2wAs5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2fYKy\",\"SearchForm\":\"Searchbar_SearchForm__28iB2\",\"SearchFormButton\":\"Searchbar_SearchFormButton__3K7Of\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2Kwe9\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3ZpEo\"};","import { Component } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport s from '../Searchbar/Searchbar.module.css';\r\n\r\nexport default class Searchbar extends Component { \r\n  state = {\r\n    inputValue: '',\r\n  };\r\n\r\n    handleChange = event => {\r\n        this.setState({ inputValue: event.target.value.toLowerCase() });\r\n    };\r\n\r\n    handleSubmit = event => {\r\n      event.preventDefault();\r\n      \r\n       if (this.state.inputValue.trim() === '') { \r\n      toast.warn('Введите слово для поиска');\r\n      return;\r\n    }\r\n\r\n        this.props.onSubmit(this.state.inputValue);\r\n        this.setState({ inputValue: '' });\r\n    };\r\n\r\n    render() { \r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form onSubmit={ this.handleSubmit} className={s.SearchForm}>\r\n          <button type=\"submit\" className={s.SearchFormButton}>\r\n            <span className={s.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={s.SearchFormInput}\r\n            type=\"text\"\r\n            name=\"imageName\"\r\n            value={this.state.inputValue}\r\n            onChange={ this.handleChange}\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}","\r\nfunction fetchImgQuery (searchQuery, page) {\r\n    return fetch(`https://pixabay.com/api/?q=${searchQuery}&page=${page+1}&key=19205756-78e39cd266210d4983cef747c&image_type=photo&orientation=horizontal&per_page=12`)\r\n        .then(response => { \r\n            if (response.ok) { \r\n                return response.json();\r\n            }\r\n            return Promise.reject(\r\n                new Error('По данному запросу нет изображений')\r\n            )\r\n        })\r\n        .then(({ hits }) => { return hits; });\r\n};\r\n\r\nconst api = {\r\n    fetchImgQuery,\r\n};\r\n\r\nexport default api;","import React from 'react';\r\nimport s from '../ImageGallery/ImageGallery.module.css';\r\n\r\nexport default function ImageGallery({children, openModal }) { \r\n    return (\r\n        <div className={s.container}>\r\n            <ul className={ s.imageGallery}>\r\n                {children}\r\n            </ul>\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport s from '../ImageGalleryItem/ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ images, openModal})=> {\r\n  return (\r\n  <>\r\n    {images.map(({id, webformatURL, tags, largeImageURL}) => (\r\n      <li key={id} className={s.ImageGalleryItem} onClick={ ()=>openModal(largeImageURL, tags)}>\r\n                <img src={webformatURL} alt={tags} className={s.ImageGalleryItemImage} />\r\n            </li>\r\n        ))}\r\n</>\r\n  );\r\n};\r\n\r\nexport default ImageGalleryItem;","import React from 'react';\r\nimport s from '../Button/Button.module.css';\r\n\r\nconst Button = ({onLoadMore}) => {\r\n  return (\r\n    <div className={ s.loader}>\r\n      <button type=\"button\" onClick={() => onLoadMore()} className={s.Button}>Load more</button>\r\n    </div >\r\n      );\r\n};\r\n  \r\n\r\nexport default Button;\r\n","import React from 'react';\r\n\r\nimport s from '../Modal/Modal.module.css';\r\n\r\nconst Modal = ({closeModal, largeImageURL }) => {\r\n  return (\r\n    <div className={s.Overlay} onClick={closeModal}>\r\n      <div className={s.Modal}>\r\n        <img src={largeImageURL} alt=\"\" />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Modal;","import { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Loader from \"react-loader-spinner\";\n\nimport Searchbar from './components/Searchbar/Searchbar';\nimport imagesApi from './services/imagesApi';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport ImageGalleryItem from './components/ImageGalleryItem/ImageGalleryItem';\nimport Button from './components/Button/Button';\nimport Modal from './components/Modal/Modal';\n\nimport s from './App.module.css';\nimport './App.css';\n\nexport default class App extends Component { \n  state = {\n    images: [],\n    loading: false,\n    error: null,\n    searchQuery: '',\n    page: 0,\n    largeImageURL: null,\n  };\n\n  componentDidMount() {\n    this.setState({ loading: true });\n  }\n\n  componentDidUpdate(prevProps, prevState) { \n    const prevQuery = prevState.searchQuery;\n    const nextQuery = this.state.searchQuery;\n\n    if (prevQuery !== nextQuery) {  \n      this.fetchImages();\n      this.setState({ loading: true });\n      \n    }\n  }\n  \n  fetchImages = () => {\n    const { searchQuery, page } = this.state;\n    \n    imagesApi\n      .fetchImgQuery(searchQuery, page)\n      .then(images =>\n        this.setState(prevState => ({\n          images: [...prevState.images, ...images],\n          page: prevState.page + 1,\n        }), this.scrollTo,\n        ),\n    )\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ loading: false }));\n  };\n\n  scrollTo = () => {\n    setTimeout(() => {\n      window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    })\n    }, 1000);\n  };\n\n  handleFormSubmit = query => {\n    this.setState({\n      searchQuery: query,\n      page: 0,\n      images: [],\n    });\n  };\n\n openModal = (largeImageURL) => {\n   this.setState({ largeImageURL})\n };\n  \n  closeModal = () => { \n    this.setState({ largeImageURL: null})\n  }\n  \n  render() { \n    const { images, error, loading, largeImageURL } = this.state;\n\n    return (\n      <div>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        <ToastContainer\n          position=\"top-right\"\n          autoClose={3000}\n          hideProgressBar={false}\n          newestOnTop={false}\n          closeOnClick\n          rtl={false}\n          pauseOnFocusLoss\n          draggable\n          pauseOnHover\n        />\n\n        {error && <h1>{error.message}</h1>}\n\n        {loading && <div className={s.loader}>\n          <Loader\n        type=\"ThreeDots\"\n        color=\"#3f51b5\"\n        height={50}\n        width={50}\n        timeout={2000}/>\n        </div>}\n        \n        {images.length > 0 && <ImageGallery\n          images={images}\n          openModal={this.openModal}>\n          \n          <ImageGalleryItem\n            images={images}\n            openModal={this.openModal} />\n          \n        </ImageGallery>}\n\n        {images.length > 0 && !loading && <Button onLoadMore={this.fetchImages} />}\n\n        { largeImageURL && <Modal\n          largeImageURL={largeImageURL}\n          closeModal={ this.closeModal}/>}\n      </div>\n    );\n  }\n}\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'modern-normalize/modern-normalize.css';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render( <App />,document.querySelector('#root')\n);\n\n\n"],"sourceRoot":""}